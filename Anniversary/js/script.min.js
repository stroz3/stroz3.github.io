function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),$btnSign=document.querySelector("#btn"),$login=document.querySelector("#login"),$password=document.querySelector("#password"),$inputSign=document.querySelectorAll(".header__input"),$header=document.querySelector(".header"),$heart=document.querySelector(".heart"),$body=document.querySelector(".room__body"),timer=()=>{var e=new Date,t=new Date(2020,11,27,17,30,0)-e+1e3;if(t<0){(o=document.getElementById("timer")).innerHTML=" - : - - : - - : - - ";let e=1,t=setInterval(()=>{if(e-=.1,-.2==o.style.opacity){clearInterval(t),document.querySelector(".timer").style.display="none",$header.style.display="block";let o=setInterval(()=>{e+=.1,1==$heart.style.opacity?clearInterval(o):($heart.style.opacity=e,document.querySelector(".header__row").style.opacity=e)},50)}else o.style.opacity=e},100)}else{var o,a=Math.floor(t/1e3%60),l=Math.floor(t/1e3/60%60),r=Math.floor(t/1e3/60/60%24),n=Math.floor(t/1e3/60/60/24);a<10&&(a="0"+a),l<10&&(l="0"+l),r<10&&(r="0"+r),(o=document.getElementById("timer")).innerHTML=n+":"+r+":"+l+":"+a,setTimeout(timer,1e3)}},window.onload=function(){timer()};let log=[name="Patay",name="Патау",name="patay",name="патау",name="пту"],password=[number="27.12.2018",number="27122018",number="271218",number="20182712"];$btnSign.addEventListener("click",()=>{valLog(log,$login.value)&&1==valLog(password,$password.value)?correctly():incorrectly()}),valLog=(e,t)=>e.some(e=>t===e),incorrectly=()=>{$inputSign.forEach(e=>{e.style.animation="incorrectly 0.2s",setTimeout(()=>{e.style.animation=""},100)})},correctly=()=>{let e=0,t=1,o=document.querySelector(".header__item:nth-child(1)"),a=document.querySelector(".header__item:nth-child(2)"),l=setInterval(()=>{e++,30==e?clearInterval(l):(o.style.top=e+"px",a.style.top="-"+e+"px")},10),r=0,n=setInterval(()=>{r++,75==r?clearInterval(n):$btnSign.style.top="-"+r+"px"},10),c=setInterval(()=>{t-=.1,-.2==$btnSign.style.opacity?(clearInterval(c),document.querySelector(".header__body").style.display="none"):($btnSign.style.opacity=t,o.style.opacity=t,a.style.opacity=t)},15);setTimeout(()=>{$heart.style.animation="heartbeatCur 1s linear forwards",setTimeout(()=>{$header.style.display="none",SecondWave()},800)},300)};let secRoom=document.querySelector(".room");SecondWave=()=>{secRoom.style.display="block",setTimeout(()=>{let e=document.querySelector(".room__item-comment");addTextTo(e)},2500)};let cellar=document.querySelector(".room__item-cellar"),cellarBefore=document.querySelector(".room__item-before");cellar.addEventListener("click",room=e=>{e.target&&(cellarBefore.style.animation="heartbeatCur 0.7s linear forwards",setTimeout(()=>{secRoom.style.display="none",document.querySelector("body").style.backgroundColor="black",document.querySelector(".slide").style.display="block"},800))}),addTextTo=e=>{let t=0,o="Не хочешь зайти в подвал?",a=setInterval((function(l){e.textContent+=o[t],++t>=o.length&&clearInterval(a)}),100)};let cardItemBack=document.querySelectorAll(".slide__item-back"),cardItem=document.querySelectorAll(".slide__Card-item"),cardContent=document.querySelectorAll(".slide__additional");function selectCardContent(e){cardContent.forEach(t=>{t.classList.contains(e)?t.classList.add("show"):t.classList.remove("show")})}document.querySelectorAll(".slide__button-close").forEach(e=>{e.addEventListener("click",()=>{fadeOut(".slide__card-additional"),basketItems.textContent=0,purse.textContent=15;for(let e=0;e<buttonBuy.length;e++){const t=buttonBuy[e];t.style.backgroundColor="#992c42",t.disabled=!1}})}),document.querySelector(".slide__card-additional").addEventListener("click",e=>{e.stopPropagation()}),cardItem.forEach(e=>{e.addEventListener("click",e=>{e.stopPropagation()})}),cardItemBack.forEach(e=>{let t=e.getAttribute("data-id");e.addEventListener("click",e=>{fadeIn(".slide__card-additional"),selectCardContent(t)})}),ToogleClassTab("modal-card",cardItemBack),ToogleClassTab("active",cardItem),document.querySelector(".slide__Card-body").addEventListener("click",close=e=>{e.target&&(ToogleClassTabClose("modal-card",cardItemBack),fadeOut(".slide__card-additional"),ToogleClassTabClose("active",cardItem))});let basketItems=document.querySelector(".slide__section-items"),buttonBuy=document.querySelectorAll(".slide__section-button"),purse=document.querySelector("#purse");buttonBuy.forEach(e=>{e.addEventListener("click",t=>{let o=0,a=0;if(t.target){if(purse.textContent<=0){for(let e=0;e<buttonBuy.length;e++){const t=buttonBuy[e];t.style.backgroundColor="gray",t.disabled=!0}return alert("Не хватает деньжат")}if(Number(e.id)>Number(purse.textContent))return a.disabled=!0,e.disabled=!0,e.style.backgroundColor="gray",alert("Не хватает деньжат");!Number(e.id)<Number(purse.textContent)&&(a=Math.max(purse.textContent-=e.id,0),purse.textContent=a,o=++basketItems.textContent,basketItems.textContent=o)}})});let buttonPlay=document.querySelector(".slide__additional-play"),video=document.querySelector(".slide__additional-video");function ToogleClassTab(e,t){t.forEach(o=>{o.addEventListener("click",()=>{t.forEach(t=>{t.classList.remove(e)}),o.classList.add(e)})})}function ToogleClassTabClose(e,t){t.forEach(t=>{t.classList.remove(e)})}function fadeOut(e){let t=document.querySelector(e);var o=1,a=setInterval((function(){o<=.1&&(clearInterval(a),t.style.display="none"),t.style.animation="MagnificationReverse 1s forwards",t.style.opacity=o,o-=.1*o}),10)}function fadeIn(e){let t=document.querySelector(e);var o=.01;t.style.display="flex";var a=setInterval((function(){o>=1&&clearInterval(a),t.style.animation="Magnification 1s forwards",t.style.opacity=o,t.style.zIndex=222,o+=.1*o}),1)}Object.defineProperty(HTMLMediaElement.prototype,"playing",{get:function(){return!!(this.currentTime>0&&!this.paused&&!this.ended&&this.readyState>2)}}),buttonPlay.addEventListener("click",btnPlay=e=>{e.target&&(video.play(),buttonPlay.style.display="none")}),video.addEventListener("click",()=>{video.playing?buttonPlay.style.display="block":buttonPlay.style.display="none"});